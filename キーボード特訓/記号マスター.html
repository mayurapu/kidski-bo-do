<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ã€ç·´ç¿’ã€‘ãã”ã†ã‚’ã†ã¨ã†ï¼</title>
  <link href="https://fonts.googleapis.com/css2?family=Kosugi+Maru&display=swap" rel="stylesheet">
  <style>
    body {
      background-color: #f3e5f5; /* è¨˜å·ç·´ç¿’ã¯å°‘ã—è½ã¡ç€ã„ãŸç´«ç³» */
      font-family: "UD Digi Kyokasho N-R", "Kosugi Maru", sans-serif;
      margin: 20px;
      text-align: center;
      color: #333;
    }

    h1 {
      color: #6a1b9a;
      font-size: 24px;
      border-bottom: 3px solid #6a1b9a;
      display: inline-block;
      padding-bottom: 5px;
    }

    .info-box {
      background: white;
      border: 3px solid #ba68c8;
      border-radius: 15px;
      padding: 15px;
      margin: 10px auto;
      max-width: 700px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .score-area {
      font-size: 18px;
      font-weight: bold;
      color: #8e24aa;
      margin-bottom: 10px;
    }

    .warning-hint {
      background-color: #fff9c4;
      padding: 10px;
      border-radius: 10px;
      border: 2px dashed #fbc02d;
      margin-bottom: 15px;
      font-weight: bold;
      color: #7f6e00;
      line-height: 1.6;
    }

    #question-display {
      font-size: 80px; 
      font-weight: bold;
      margin: 20px 0;
      color: #333;
      min-height: 100px;
      background: white;
      display: inline-block;
      padding: 10px 50px;
      border-radius: 20px;
    }

    #input-area {
      font-size: 40px;
      padding: 10px;
      border: 4px solid #ba68c8;
      border-radius: 10px;
      width: 250px;
      text-align: center;
      outline: none;
    }

    #quote-display {
      margin-top: 15px;
      padding: 15px;
      background: #e1f5fe;
      border-radius: 10px;
      border-left: 10px solid #03a9f4;
      display: none; 
      text-align: left;
      font-size: 19px;
      animation: bounce 0.5s;
    }

    @keyframes bounce {
      0% { transform: scale(0.8); }
      70% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    .guide {
      margin-top: 30px;
      background: #ede7f6;
      padding: 20px;
      border-radius: 15px;
      display: inline-block;
      border: 1px solid #b39ddb;
      max-width: 600px;
    }

    .key-cap {
      background: #fff;
      border: 2px solid #666;
      border-radius: 5px;
      padding: 2px 8px;
      font-weight: bold;
      font-size: 16px;
      box-shadow: 0 2px 0 #666;
    }

    .success {
      background-color: #c8e6c9 !important;
      border-color: #4caf50 !important;
    }
  </style>
</head>
<body onload="initGame()">

  <h1>âŒ¨ï¸ ãã”ã†ã® ã‚Œã‚“ã—ã‚…ã† âŒ¨ï¸</h1>

  <div class="info-box">
    <div class="score-area">
      ã®ã“ã‚Šï¼š<span id="timer">90</span>ç§’ã€€
      ã§ããŸæ•°ï¼š<span id="currentScore">0</span>
    </div>
    
    <div class="warning-hint">
      âš ï¸ <b>ã†ã¦ãŸã‚‰ã€Enterã€‘ã‚’ï¼’å›ãƒˆãƒ³ãƒˆãƒ³ï¼ã¨ãŠãã†ï¼</b><br>
      ï¼ˆï¼‘å›ç›®ã§ã€Œãã¾ã‚Šã€ã€ï¼’å›ç›®ã§ã€Œåˆ¤å®šã€ã ã‚ˆï¼ï¼‰<br>
      ã§ãªã„ã¨ãã¯ <span class="key-cap">åŠè§’ï¼å…¨è§’</span> ãƒœã‚¿ãƒ³ã‚’ãŠã—ã¦ã­ï¼
    </div>

    <div id="message">ãã”ã†ã‚’ ã†ã£ã¦ã‹ã‚‰ ã€Enterã€‘ã‚’ãŠã—ã¦ã­ï¼</div>
    
    <div id="quote-display"></div>
  </div>

  <div id="question-display">---</div>
  <br>
  <input type="text" id="input-area" onkeydown="handleKey(event)" autocomplete="off">

  <div class="guide" id="gameGuide">
    <strong>ğŸ’¡ ã‚·ãƒ•ãƒˆã‚­ãƒ¼ã‚’ ã¤ã‹ãŠã†ï¼</strong><br><br>
    <table>
      <tr><td>ã€Œï¼Ÿã€ã‚’ã†ã¤ã¨ãï¼š</td><td><span class="key-cap">Shift</span> ï¼‹ <span class="key-cap">ï¼Ÿ</span></td></tr>
      <tr><td>ã€Œï¼ã€ã‚’ã†ã¤ã¨ãï¼š</td><td><span class="key-cap">Shift</span> ï¼‹ <span class="key-cap">1</span></td></tr>
      <tr><td>ã€Œï¼ˆ ã€ã‚’ã†ã¤ã¨ãï¼š</td><td><span class="key-cap">Shift</span> ï¼‹ <span class="key-cap">8</span></td></tr>
      <tr><td>ã€Œ ï¼‰ã€ã‚’ã†ã¤ã¨ãï¼š</td><td><span class="key-cap">Shift</span> ï¼‹ <span class="key-cap">9</span></td></tr>
    </table>
  </div>

  <script>
    // ã‚¢ãƒ‹ãƒ¡åè¨€ãƒªã‚¹ãƒˆï¼ˆã‚«ãƒ³ãƒãªã©ã®ãƒŸã‚¹ã‚’ä¿®æ­£ã—ãŸã‚ˆï¼ï¼‰
    const ANIME_QUOTES = [
      "ã€Œã‚ãã‚‰ã‚ãŸã‚‰ ãã“ã§ã—ã‚ã„ã—ã‚…ã†ã‚Šã‚‡ã†ã§ã™ã‚ˆâ€¦ï¼Ÿã€",
      "ã€Œã‚ãã‚ãã£ï¼ã‚ˆããŒã‚“ã°ã£ãŸã¾ã™ï¼ã€",
      "ã€Œã‚¿ã‚¤ãƒ”ãƒ³ã‚°çˆ†é€Ÿç•Œéšˆã€",
      "ã€Œã•ãƒ¼ã¦ï¼Œæ¥é€±ã®ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã•ã‚“ã¯ãƒ¼ï¼Ÿã€",
      "ã€ŒãŠã¿ãã˜ï¼šå¤§å‰ï¼ã‚„ã£ãŸã­ï¼ãƒ©ãƒƒã‚­ãƒ¼ã‚«ãƒ©ãƒ¼ã¯é’ï¼ã€",
      "ã€Œå…¨é›†ä¸­ï¼ãã®æ„æ°—ã ï¼ã€",
      "ã€Œé€ƒã’ã¡ã‚ƒãƒ€ãƒ¡ã â€¦ãªã‚“ã¦æ€ã‚ãªãã¦ã„ã„ï¼ã‚ˆãã‚„ã£ãŸï¼ã€",
      "ã€Œè¨˜å·ç‹ã« ãŠã‚Œã¯ãªã‚‹ï¼ã€",
      "ã€Œç™–ã«ãªã£ã¦ã‚“ã ï¼Œè¨˜å·æ‰“ã¤ã®ã€€å®¶åº­ã®äº‹æƒ…ã§ãªã€",
      "ã€ŒãŠã¿ãã˜ï¼šä¸­å‰ï¼ãŠã¨ã‚‚ã ã¡ã«ã—ã‚“ã›ã¤ã«ã™ã‚‹ã¨ãƒ©ãƒƒã‚­ãƒ¼ï¼ã€",
      "ã€Œã“ã‚“ãªã«æ‰“ã¦ã‚‹ãªã‚“ã¦ï¼Œã‚ªãƒ©ã‚ãã‚ãã™ã£ãï¼ã€",
      "ã€Œï¼™ï¼ç§’ã§æ‰“ã£ã¦ã¿ãªã€",
      "ã€ŒãŠã‚Œã¯äººé–“ã‚’ã‚„ã‚ã‚‹ãï¼Œã‚¸ãƒ§ã‚¸ãƒ§â€•ãƒƒï¼ã€",
      "ã€Œå‡ï¼ˆã‚®ãƒ§ã‚¦ï¼‰ã‚’ä½¿ãˆï¼è¨˜å·ã®ä½ç½®ãŒè¦‹ãˆã‚‹ã¯ãšã ï¼ã€",
      "ã€Œã‚¢ãƒªãƒ¼ãƒ´ã‚§ãƒ‡ãƒ«ãƒï¼ˆã•ã‚ˆãªã‚‰ã ï¼‰ã€",
      "ã€ŒãŠã¿ãã˜ï¼šå‰ï¼é›†ä¸­åŠ›ã‚¢ãƒƒãƒ—ï¼å®¿é¡ŒãŒã¯ã‚„ããŠã‚ã‚‹ã‹ã‚‚ã€",
      "ã€Œè¨˜å·ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã¨ã‹ãªã„ã‚“ã‹ï¼Ÿã€",
      "ã€Œã¨ã¾ã‚‹ã‚“ã˜ã‚ƒã­ã‡ãã€",
      "ã€Œã™ã€‚ã™ã”ã„ã­â€¦ãƒƒï¼ã€ã€Œãƒ¯â€¦ãƒ¯ã‚¡â€¦ãƒƒï¼ã€",
      "ã€Œå‹ã£ãŸãƒƒï¼ã€Œç¬¬ï¼“éƒ¨ã€å®Œï¼ï¼ã€",
      "ã€Œæ‰“ã£ãŸãªï¼è¦ªçˆ¶ã‚‚æ‰“ã¦ãŸäº‹ãªã„ã®ã«ï¼ï¼ã€",
      "ã€Œè¨˜å·ã®å‘¼å¸ï¼Œå£±ãƒå‹ï¼ã€",
      "ã€ŒãŠã¿ãã˜ï¼šå‰ï¼å…ˆç”Ÿã®ã“ã¨ã°ã«ãªã‚„ã¿ã®ãƒ’ãƒ³ãƒˆãŒã‚ã‚‹ã‹ã‚‚ï¼ã€",
      "ã€Œè¦‹ãŸç›®ã¯å­ã©ã‚‚ï¼Œã‚¿ã‚¤ãƒ”ãƒ³ã‚°åŠ›ã¯å¤§äººï¼ã€",
      "ã€Œæ‰“ã¦ã‚‹â€¦ï¼ç§ã«ã‚‚è¨˜å·ãŒæ‰“ã¦ã‚‹ãâ€¦â€¦ï¼ã€",
      "ã€Œé«˜è©•ä¾¡ã¨ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã€ã‚ˆã‚ã—ãã­ï¼ã€",
      "ã€Œæ„Ÿè¬ã®æ­£æ‹³çªãâ€¦ãªã‚‰ã¬ã€æ„Ÿè¬ã®ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ï¼‘ä¸‡å›ï¼ã€",
      "(" + "ãŠã¾ãˆã®æ¬¡ã®ã‚»ãƒªãƒ•ã¯ã€è¨˜å·ã‚€ãšã™ãï¼ã€ã¨ã„ã†ï¼" + ")",
      "ã€ŒãŠã¾ãˆã¯ä»Šã¾ã§æ‰“ã£ãŸã‚­ãƒ¼ã®æ•°ã‚’è¦šãˆã¦ã„ã‚‹ã®ã‹ï¼Ÿã€",
      "ã€ŒCHUï¼æ‰“ã¦ã™ãã¦ã”ã‚ã‚“ï¼ã€",
      "ã€Œè¦šæ‚Ÿã¯ã„ã„ã‹ï¼Ÿ ãŠã‚Œã¯ã§ãã¦ã‚‹ã€"
    ];

    const SYMBOLS = [
      { char: "ï¼Ÿ", name: "ã¯ã¦ãª" },
      { char: "ï¼", name: "ã³ã£ãã‚Š" },
      { char: "ã€‚", name: "ã¾ã‚‹" },
      { char: "ã€", name: "ã¦ã‚“" },
      { char: "ã€Œ", name: "ã‹ãã£ã“ãƒ»ã²ã ã‚Š" },
      { char: "ã€", name: "ã‹ãã£ã“ãƒ»ã¿ã" },
      { char: "ï¼ˆ", name: "ã‹ã£ã“ãƒ»ã²ã ã‚Š" },
      { char: "ï¼‰", name: "ã‹ã£ã“ãƒ»ã¿ã" },
      { char: "ãƒ¼", name: "ã®ã°ã—ã¼ã†" }
    ];

    let score = 0;
    let timeLeft = 90;
    let currentTarget = "";
    let isPlaying = false;
    let timerID;

    const display = document.getElementById("question-display");
    const inputArea = document.getElementById("input-area");
    const quoteDisplay = document.getElementById("quote-display");

    function initGame() {
      score = 0;
      timeLeft = 90;
      isPlaying = false;
      document.getElementById("currentScore").textContent = "0";
      document.getElementById("timer").textContent = "90";
      document.getElementById("message").textContent = "ãƒˆãƒ³ãƒˆãƒ³ï¼ã¨ï¼’å› Enter ã‚’ãŠã™ã®ãŒã‚³ãƒ„ã ã‚ˆï¼";
      quoteDisplay.style.display = "none";
      inputArea.readOnly = false;
      inputArea.value = "";
      inputArea.focus();
      nextQuestion();
    }

    function nextQuestion() {
      const item = SYMBOLS[Math.floor(Math.random() * SYMBOLS.length)];
      currentTarget = item.char;
      display.textContent = item.char;
      inputArea.value = "";
      inputArea.classList.remove("success");
    }

    function handleKey(e) {
      if (timeLeft <= 0) {
        if (e.code === "Space") initGame();
        return;
      }

      if (!isPlaying && e.key !== "Enter" && e.key !== "Process") {
        startTimer();
      }

      if (e.key === "Enter") {
        setTimeout(() => {
          if (inputArea.value === currentTarget) {
            score++;
            document.getElementById("currentScore").textContent = score;
            inputArea.classList.add("success");
            setTimeout(nextQuestion, 150);
          } else {
            if (inputArea.value.length > 0 && inputArea.value !== currentTarget) {
               inputArea.value = "";
            }
          }
        }, 10);
      }
    }

    function startTimer() {
      isPlaying = true;
      timerID = setInterval(() => {
        timeLeft--;
        document.getElementById("timer").textContent = timeLeft;
        if (timeLeft <= 0) {
          clearInterval(timerID);
          isPlaying = false;
          inputArea.readOnly = true;
          display.textContent = "Time Up!";
          
          const randomQuote = ANIME_QUOTES[Math.floor(Math.random() * ANIME_QUOTES.length)];
          quoteDisplay.innerHTML = `<strong>â˜… ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ â˜…</strong><br>${randomQuote}`;
          quoteDisplay.style.display = "block";

          document.getElementById("message").innerHTML = 
            `<b>${score}ã“ ã§ãã¾ã—ãŸï¼</b><br>ã‚‚ã†ä¸€å›ã‚„ã‚‹ãªã‚‰ <span class="key-cap" style="box-shadow:none;">ã‚¹ãƒšãƒ¼ã‚¹</span> ã‚­ãƒ¼ã‚’ãŠã—ã¦ã­ï¼`;
        }
      }, 1000);
    }
  </script>
</body>
</html>