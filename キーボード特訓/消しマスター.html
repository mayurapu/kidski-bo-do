<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ã€ç‰¹è¨“ã€‘æ–‡å­—ã‚’ã‘ãã†ï¼</title>
  <link href="https://fonts.googleapis.com/css2?family=Kosugi+Maru&display=swap" rel="stylesheet">
  <style>
    body {
      background-color: #fff9f0;
      font-family: "UD Digi Kyokasho N-R", "Kosugi Maru", sans-serif;
      margin: 20px;
      text-align: center;
      color: #333;
    }

    h1 {
      color: #e65100;
      font-size: 24px;
      border-bottom: 4px solid #e65100;
      display: inline-block;
      padding-bottom: 5px;
      margin-bottom: 10px;
    }

    .info-box {
      background: white;
      border: 3px solid #ffcc80;
      border-radius: 15px;
      padding: 15px;
      margin: 10px auto;
      max-width: 700px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .score-area {
      font-size: 20px;
      font-weight: bold;
      color: #ef6c00;
      margin-bottom: 10px;
    }

    textarea#myInfo {
      width: 90%;
      height: 60px;
      font-size: 16px;
      border: none;
      resize: none;
      background: transparent;
      text-align: center;
      color: #e65100;
      font-family: inherit;
      font-weight: bold;
    }

    .game-container {
      margin: 20px auto;
      max-width: 700px;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .word-row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
      background: white;
      padding: 12px;
      border-radius: 12px;
      border: 2px solid #ffe0b2;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }

    .target-label {
      font-size: 18px;
      color: #666;
      width: 180px;
      text-align: right;
      font-weight: bold;
    }

    input.edit-box {
      font-size: 26px;
      padding: 8px;
      border: 3px solid #ff9800;
      border-radius: 8px;
      width: 380px;
      text-align: center;
      letter-spacing: 2px;
      outline: none;
    }

    input.correct {
      background-color: #e8f5e9;
      border-color: #4caf50;
      color: #2e7d32;
    }

    .guide {
      margin-top: 20px;
      background: #fff3e0;
      padding: 15px;
      border-radius: 10px;
      display: inline-block;
      border: 1px solid #ffb74d;
    }

    .key-cap {
      background: #2c3e50;
      color: white;
      border-radius: 5px;
      padding: 3px 10px;
      font-weight: bold;
      font-size: 14px;
    }
  </style>
</head>
<body onload="initGame()">

  <h1>ğŸ’£ ã°ãã ã‚“æ–‡å­—ã€Œâ˜…ã€ã‚’ ã‘ãã†ï¼ ğŸ’£</h1>

  <div class="info-box">
    <div class="score-area">
      ã®ã“ã‚Šï¼š<span id="timer">60</span>ç§’ã€€
      ã‚¯ãƒªã‚¢æ•°ï¼š<span id="currentScore">0</span>
    </div>
    <textarea id="myInfo" readonly></textarea>
  </div>

  <div class="game-container" id="gameArea"></div>

  <div class="guide">
    <strong>ğŸ’¡ ã‘ã—æ–¹ã®ã‚³ãƒ„</strong><br><br>
    <span class="key-cap">Backspace</span> ï¼š ã‚«ãƒ¼ã‚½ãƒ«ã® <b>â† å·¦ãŒã‚</b> ã‚’ã‘ã™<br>
    <span class="key-cap">Delete</span> ï¼š ã‚«ãƒ¼ã‚½ãƒ«ã® <b>å³ãŒã‚ â†’</b> ã‚’ã‘ã™
  </div>

  <p style="font-size: 14px; color: #90a4ae; margin-top: 20px;">[F5]ã‚­ãƒ¼ã§ ã‚„ã‚ŠãªãŠã—</p>

  <script>
    // â–¼ ãƒ¯ãƒ¼ãƒ‰ã‚’å¤§å¹…ã«å¢—ã‚„ã—ãŸã‚ã‚ˆï¼
    const WORDS = [
      "å‰è‰¯å‰å½±", "ãƒ”ã‚«ãƒãƒ¥ã‚¦", "ã‚·ãƒ³ã‚¸", "å¹½æ³¢ç´‹", "ãƒ‰ã‚¬ãƒ¼ã‚¹", 
      "ãƒãƒ­ãƒ¼ã‚­ãƒ†ã‚£", "äº”æ¡æ‚Ÿ", "ã¡ã„ã‹ã‚", "ã‚¢ãƒ¼ãƒ‹ãƒ£", "ã‚­ãƒ«ã‚¢", "ã‚¯ãƒ©ãƒ”ã‚«",
      "ç©ºæ¡æ‰¿å¤ªéƒ", "ç…‰ç„æå¯¿éƒ", "ç«ˆé–€ç‚­æ²»éƒ", "ãƒ•ãƒªãƒ¼ãƒ¬ãƒ³", "çŒ«ãƒŸãƒ¼ãƒ ",
      "æ˜Ÿé‡ã‚¢ã‚¤", "ãƒãƒãƒ¯ãƒ¬", "ã†ã•ã", "æ¨ã—ã®å­", "çŒ«çŒ«", "é™ç•Œã‚ªã‚¿ã‚¯",
      "è‰è¶…ãˆã¦ä¸å¯é¿", "ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ç¥", "ãŠã±ã‚“ã¡ã‚…ã†ã•ã", "ã‚¹ã‚¿ãƒ¼ãƒ—ãƒ©ãƒãƒŠ",
      "ã‚­ãƒ©ãƒ¼ã‚¯ã‚¤ãƒ¼ãƒ³", "é ˜åŸŸå±•é–‹", "ãƒ’ã‚½ã‚«", "ãƒ±ãƒ´ã‚¡ãƒ³ã‚²ãƒªãƒ²ãƒ³", "ã‚¼ãƒ«ãƒ€ã®ä¼èª¬",
      "ãƒãƒƒã‚·ãƒ¥ãƒ«", "ãƒŠãƒ«ãƒˆãƒ€ãƒ³ã‚¹", "ã—ã‹ã®ã“ã®ã“ã®ã“ã“ã—ãŸã‚“ãŸã‚“", "æ®‹é…·ãªå¤©ä½¿ã®ãƒ†ãƒ¼ã‚¼",
      "ãƒœãƒ³ãƒœãƒ³ãƒ‰ãƒ­ãƒƒãƒ—ã‚·ãƒ¼ãƒ«", "ãƒ’ã‚«ã‚­ãƒ³", "æ½”ä¸–ä¸€", "ãƒœãƒãƒ¼", "å‘ªè¡“å»»æˆ¦", "å®¿å„º",
      "å¼·é¢¨ã‚ªãƒ¼ãƒ«ãƒãƒƒã‚¯", "ã‚¾ãƒ«ãƒ‡ã‚£ãƒƒã‚¯", "ã‚¢ã‚¤ãƒ‰ãƒ«", "æ™©é¤æ­Œ", "ã‚·ãƒŠãƒ¢ãƒ­ãƒ¼ãƒ«", "ã‚¬ãƒ³ãƒ€ãƒ ",
      "ã‚¯ãƒ­ãƒŸ", "ãƒ¬ã‚ªãƒªã‚ª", "ã‚³ãƒŠãƒ³", "ã‚¹ãƒ—ãƒ©ãƒˆã‚¥ãƒ¼ãƒ³",
      "ã‚µãƒ¼ãƒ¢ãƒ³ãƒ©ãƒ³", "ãƒ†ãƒ©ã‚¹ã‚¿ãƒ«", "ã‚ªãƒ¼ã‚¬ãƒãƒ³", "ã‚³ãƒ©ã‚¤ãƒ‰ãƒ³", "ãƒŸãƒ©ã‚¤ãƒ‰ãƒ³"
    ];
    
    let score = 0;
    let timeLeft = 60;
    let timerID;
    let isPlaying = false;

    function makeQuestion(word) {
      let q = word.split("");
      const starCount = Math.floor(Math.random() * 2) + 2; 
      for(let i=0; i < starCount; i++) {
        let pos = Math.floor(Math.random() * (q.length + 1));
        q.splice(pos, 0, "â˜…");
      }
      return q.join("");
    }

    function initGame() {
      score = 0;
      timeLeft = 60;
      isPlaying = false;
      document.getElementById("currentScore").textContent = score;
      document.getElementById("timer").textContent = timeLeft;
      document.getElementById("myInfo").value = "å…¥åŠ›ãƒœãƒƒã‚¯ã‚¹ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¹ã‚¿ãƒ¼ãƒˆï¼\nã€Œâ˜…ã€ã ã‘ã‚’ãã‚Œã„ã«æ¶ˆã—ã¦ã­ï¼";
      
      const area = document.getElementById("gameArea");
      area.innerHTML = "";

      for(let i=0; i<5; i++) {
        addQuestionRow();
      }
    }

    function addQuestionRow() {
        const area = document.getElementById("gameArea");
        let targetWord = WORDS[Math.floor(Math.random() * WORDS.length)];
        let question = makeQuestion(targetWord);

        let row = document.createElement("div");
        row.className = "word-row";
        row.innerHTML = `
          <div class="target-label">ã€Œ${targetWord}ã€ã«</div>
          <input type="text" class="edit-box" value="${question}" 
                 data-answer="${targetWord}" 
                 onfocus="startGame()" 
                 oninput="checkAnswer(this)">
        `;
        area.appendChild(row);
    }

    function startGame() {
      if(isPlaying) return;
      isPlaying = true;
      timerID = setInterval(() => {
        timeLeft--;
        document.getElementById("timer").textContent = timeLeft;
        if(timeLeft <= 0) endGame();
      }, 1000);
    }

    function checkAnswer(input) {
      const answer = input.getAttribute("data-answer");
      if(input.value === answer) {
        input.classList.add("correct");
        input.readOnly = true;
        score++;
        document.getElementById("currentScore").textContent = score;
        
        const allInputs = document.querySelectorAll(".edit-box");
        const allCorrect = Array.from(allInputs).every(i => i.readOnly);
        if(allCorrect) {
          setTimeout(nextSet, 400);
        }
      }
    }

    function nextSet() {
      const area = document.getElementById("gameArea");
      area.innerHTML = "";
      for(let i=0; i<5; i++) {
        addQuestionRow();
      }
      area.querySelector("input").focus();
    }

    function endGame() {
      clearInterval(timerID);
      const inputs = document.querySelectorAll(".edit-box");
      inputs.forEach(i => i.readOnly = true);
      document.getElementById("myInfo").value = `çµ‚äº†ï¼${score}å€‹ ã‘ã›ãŸã‚ˆï¼\nç”»é¢ã‚’æ›´æ–°ï¼ˆF5ï¼‰ã—ã¦ã‚‚ã†ä¸€å›ã‚ãã‚“ã§ã­ã€‚`;
    }
  </script>
</body>
</html>